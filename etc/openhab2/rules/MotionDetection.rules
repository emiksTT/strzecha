//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////       Motion Detection         ////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

var Timer stopMotionTimer
rule "RF Bridge sensor triggered"
when
   Item SonoffBridge_RfReceive received update
    
then


if(SonoffBridge_RfReceive.state == 'EDF91E')
    {
    Pir_1.sendCommand(ON) 
     
    //sendTelegram("redminote7", "Front Door Motion Detection !");

    stopMotionTimer = createTimer(now.plusSeconds(10)) [|
    			Pir_1.sendCommand(OFF)
               
				
    		]
            } else {
    	if(stopMotionTimer!==null) {                //if(timer!=null)
    			stopMotionTimer.cancel
    			stopMotionTimer = null
    	}
    }

end

    

///////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////
